<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.prime.com.tr/ui"
	xmlns:mj="http://mojarra.dev.java.net/mojarra_ext"
	template="/index.xhtml">

<ui:define name="menu-vc-esta">

<table width="620" border="0" align="left"  cellpadding="0" background="/pais/img/barra_linha.png"
				cellspacing="0">
				<tr>
					<td  align="left" 
						scope="col">
						<span class="Fonte_12_Logado"></span>  
						<h:outputLabel  value="&nbsp; VOCÊ ESTA: " styleClass="TEXTO_11"/>
						</td>
		<td>
 <p:breadCrumb style="width: 520px; height: 19px; background: transparent; border: hidden">  
     <p:menuitem value="home" url="/index.mir" />  
      <p:menuitem value="CADASTRO"/>  
       <p:menuitem value="LISTAR CÉLULAS" action="#{celulaBean.prepararListarCelula}" ajax="false" />    
 </p:breadCrumb> 

</td>
				</tr>
			 </table> 
</ui:define>

	<ui:define name="conteudo">
		<br />
			<p:tabView orientation="top">
				<p:tab id="tabListarCelula" title="Células Cadastradas">
					<h:panelGrid columns="1" style="width:100%">
					<h:form prependId="false"> 
					
					<p:dataTable
					id="tbl" 
					var="cel" 
					selection="#{celulaBean.celulaSelecionada}"
					value="#{celulaBean.listaCelulas}" 
					paginator="true"
					firstPageLinkLabel="&lt;&lt; Primeiro"
					lastPageLinkLabel="Ultimo &gt;&gt;"
					previousPageLinkLabel="&lt; Voltar"
					nextPageLinkLabel="Avançar &gt;" 
					width="100%"
					sortAscMessage="Ordena em ordem crescente"
					sortDescMessage="Ordena em ordem descrecente" 
					rows="10"
					dynamic="true" emptyMessage="Nenhum Associado encontrado"
					paginatorPosition="bottom">

					<p:column id="dtNome" 
					    filterStyleClass="formularios" resizable="true"
						sortBy="#{cel.celNome}">
						<f:facet name="header">
							<h:outputText value="&nbsp;NOME DA CÉLULA" styleClass="Fonte_12"/>
						</f:facet>
						<h:outputText id="nome" styleClass="Fonte_13" value="#{cel.celNome}"/>
					</p:column>
					
					<p:column id="dtDia"
						filterStyleClass="formularios" resizable="true"
						sortBy="#{cel.celDiaReuniao}">
						<f:facet name="header">
							<h:outputText value="&nbsp;DIA DA SEMANA" styleClass="Fonte_12" />
						</f:facet>
						<h:outputText value="#{cel.celDiaReuniao}" styleClass="Fonte_13"/>
					</p:column>
					
					<p:column id="dtHora"
						filterStyleClass="formularios" resizable="true"
						sortBy="#{cel.celHorarioReuniao}">
						<f:facet name="header">
							<h:outputText value="&nbsp;HORA" styleClass="Fonte_12" />
						</f:facet>
						<h:outputText value="#{cel.celHorarioReuniao}" styleClass="Fonte_13"/>
					</p:column>
					
					<p:column style="width:10px 0px">
						<f:facet name="header">
						<center>
							<h:outputText value="&nbsp;EDITAR" styleClass="Fonte_12" />
						</center>
						</f:facet>
						<p:commandLink title="Editar Célula" action="#{celulaBean.prepararEdicao}" ajax="false">  
                        <center>
                        <p:graphicImage value="/img/editar.png"/>   
                        </center>
                        <f:setPropertyActionListener value="#{cel}" target="#{celulaBean.celulaSelecionada}" />
                        </p:commandLink>
					</p:column>
					
					<p:column style="width:10px 0px">
						<f:facet name="header">
						<center>
							<h:outputText value="&nbsp;EXCLUIR" styleClass="Fonte_12" />
					    </center>
						</f:facet>
						<p:commandLink title="Excluir Célula" update="pnlCelulaExcluir" oncomplete="celulaExcluir.show()">  
                        <center>
                        <p:graphicImage value="/img/deletar.png"/>     
                        </center>
                        <f:setPropertyActionListener value="#{cel}" target="#{celulaBean.celulaSelecionada}" />
                        </p:commandLink>
					</p:column>
					
					<p:column style="width:10px 0px">
					    <f:facet name="header">
					    <center>
							<h:outputText value="&nbsp;DETALHES" styleClass="Fonte_12" />
						</center>
						</f:facet>
						<p:commandLink title="Detalhe Célula" update="pnlCelulaDetalhe" oncomplete="celulaDetalhe.show()">  
                            <center>
                            <p:graphicImage value="/img/detalhe.png"/>
                            </center> 
                            <f:setPropertyActionListener value="#{cel}" target="#{celulaBean.celulaSelecionada}" />    
                        </p:commandLink> 
			        </p:column>
				</p:dataTable>
				
				<p:dialog header="Célula Detalhe" widgetVar="celulaDetalhe" resizable="false"  
                          modal="true" width="200" showEffect="explode" hideEffect="explode">  
			        <h:panelGrid id="pnlCelulaDetalhe" columns="2" cellpadding="4">  		  
			            <h:outputText value="Nome da célula:" />  
			            <h:outputText value="#{celulaBean.celulaSelecionada.celNome}" />  
			            <h:outputText value="Dia da semana:" />  
			            <h:outputText value="#{celulaBean.celulaSelecionada.celDiaReuniao}" />  
			            <h:outputText value="Horário:" />  
			            <h:outputText value="#{celulaBean.celulaSelecionada.celHorarioReuniao}" /> 
			        </h:panelGrid>  
			    </p:dialog>
			    
			    <p:dialog header="Excluir Celula" widgetVar="celulaExcluir" resizable="false"
			              modal="true" width="400" showEffect="explode" hideEffect="explode">
			            <p:outputPanel id="pnlCelulaExcluir">
			            <h:outputText value="Deseja realmente excluir #{celulaBean.celulaSelecionada.celNome} ?" />
			            <h:panelGrid columns="2" cellpadding="2">
			                <p:commandButton value="Sim" action="#{categoriaDialogBean.remover}" 
			                                 update="aviso,formCategorias" oncomplete="alterar.hide(), remover.hide()" />
			                <p:commandButton value="Não" onclick="celulaExcluir.hide()" />
			            </h:panelGrid>  
			            </p:outputPanel> 
			    </p:dialog>

					</h:form>
					</h:panelGrid>
				</p:tab>
			</p:tabView>
	</ui:define>
</ui:composition>